{
  "id": "ugc-product-video-skyreels-phantom",
  "revision": 1,
  "last_node_id": 105,
  "last_link_id": 33,
  "nodes": [
    {
      "id": 1,
      "type": "Note",
      "pos": [
        -2200,
        -700
      ],
      "size": [
        950,
        350
      ],
      "flags": {},
      "order": 0,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "properties": {
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        "UGC PRODUCT VIDEO - SkyReels V3 + PhantomEmbeds\n━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━\n\nPIPELINE:\n1. 2 IMAGES: Avatar (personne) + Produit\n2. RESIZE: Les 2 images redimensionnees a 480x832\n3. VAE ENCODE: Les 2 images encodees en latent\n4. PHANTOM EMBEDS: Combine les 2 references\n5. SAMPLER: SkyReels-V3-R2V genere la video\n6. DECODE: VAE decode les frames\n7. UPSCALE: Resize vers 1080x1920 (TikTok 9:16)\n8. EXPORT: H.264 MP4 24fps\n\nMODELES REQUIS:\n- SkyReels-V3-R2V_fp8_scaled_mixed.safetensors (diffusion_models/)\n- Wan2_1_VAE_bf16.safetensors (vae/)\n- umt5-xxl-enc-bf16.safetensors (text_encoders/)\n\nVRAM: ~12-16GB avec block swap 30\nDUREE: Modifier num_frames dans PhantomEmbeds (frames = secondes x 24 + 1)\n  5s = 121 | 10s = 241 | 15s = 361 | 30s = 721"
      ],
      "color": "#324",
      "bgcolor": "#546"
    },
    {
      "id": 2,
      "type": "Note",
      "pos": [
        -1200,
        -700
      ],
      "size": [
        650,
        350
      ],
      "flags": {},
      "order": 1,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "properties": {
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        "CONSEILS UGC PRODUIT:\n━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━\n\nIMAGE AVATAR (personne):\n- Photo portrait claire, fond neutre\n- Visage bien visible\n- Position naturelle (debout ou assise)\n\nIMAGE PRODUIT:\n- Photo du produit sur fond blanc/neutre\n- Bonne resolution, bien eclaire\n- Un seul produit par image\n\nPROMPT:\n- Decrire l'action: 'une femme tient un flacon et le presente'\n- Mentionner les details: sourire, gestes, fond\n- Garder le prompt court et precis\n\nPARAMETRES:\n- phantom_cfg_scale: 6.0 = bon equilibre (3-10)\n- Plus haut = plus fidele aux images ref\n- steps: 10 = bonne qualite\n- block_swap: 30 = fonctionne 12-16GB VRAM\n\nFORMATS:\n- TikTok/Reels: 480x832 -> 1080x1920\n- YouTube: changer en 832x480 -> 1920x1080"
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 10,
      "type": "LoadImage",
      "pos": [
        -1800,
        -200
      ],
      "size": [
        320,
        330
      ],
      "flags": {},
      "order": 2,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "COMBO",
          "widget": {
            "name": "image"
          },
          "link": null
        },
        {
          "name": "upload",
          "type": "IMAGEUPLOAD",
          "widget": {
            "name": "upload"
          },
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "slot_index": 0,
          "links": [
            1
          ]
        },
        {
          "name": "MASK",
          "type": "MASK",
          "links": null
        }
      ],
      "title": "Avatar / Personne",
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.29",
        "Node name for S&R": "LoadImage",
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        "avatar.png",
        "image"
      ],
      "color": "#322",
      "bgcolor": "#533"
    },
    {
      "id": 11,
      "type": "LoadImage",
      "pos": [
        -1800,
        200
      ],
      "size": [
        320,
        330
      ],
      "flags": {},
      "order": 3,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "COMBO",
          "widget": {
            "name": "image"
          },
          "link": null
        },
        {
          "name": "upload",
          "type": "IMAGEUPLOAD",
          "widget": {
            "name": "upload"
          },
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "slot_index": 0,
          "links": [
            2
          ]
        },
        {
          "name": "MASK",
          "type": "MASK",
          "links": null
        }
      ],
      "title": "Produit",
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.29",
        "Node name for S&R": "LoadImage",
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        "product.png",
        "image"
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 12,
      "type": "INTConstant",
      "pos": [
        -1800,
        600
      ],
      "size": [
        300,
        62
      ],
      "flags": {},
      "order": 4,
      "mode": 0,
      "inputs": [
        {
          "name": "value",
          "type": "INT",
          "widget": {
            "name": "value"
          },
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "value",
          "type": "INT",
          "slot_index": 0,
          "links": [
            3,
            4
          ]
        }
      ],
      "title": "Largeur (Width)",
      "properties": {
        "cnr_id": "comfyui-kjnodes",
        "Node name for S&R": "INTConstant",
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        480
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 13,
      "type": "INTConstant",
      "pos": [
        -1800,
        700
      ],
      "size": [
        300,
        62
      ],
      "flags": {},
      "order": 5,
      "mode": 0,
      "inputs": [
        {
          "name": "value",
          "type": "INT",
          "widget": {
            "name": "value"
          },
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "value",
          "type": "INT",
          "slot_index": 0,
          "links": [
            5,
            6
          ]
        }
      ],
      "title": "Hauteur (Height)",
      "properties": {
        "cnr_id": "comfyui-kjnodes",
        "Node name for S&R": "INTConstant",
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        832
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 20,
      "type": "ImageResizeKJv2",
      "pos": [
        -1300,
        -200
      ],
      "size": [
        270,
        336
      ],
      "flags": {},
      "order": 14,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 1
        },
        {
          "name": "mask",
          "shape": 7,
          "type": "MASK",
          "link": null
        },
        {
          "name": "width",
          "type": "INT",
          "widget": {
            "name": "width"
          },
          "link": 3
        },
        {
          "name": "height",
          "type": "INT",
          "widget": {
            "name": "height"
          },
          "link": 5
        },
        {
          "name": "upscale_method",
          "type": "COMBO",
          "widget": {
            "name": "upscale_method"
          },
          "link": null
        },
        {
          "name": "keep_proportion",
          "type": "COMBO",
          "widget": {
            "name": "keep_proportion"
          },
          "link": null
        },
        {
          "name": "pad_color",
          "type": "STRING",
          "widget": {
            "name": "pad_color"
          },
          "link": null
        },
        {
          "name": "crop_position",
          "type": "COMBO",
          "widget": {
            "name": "crop_position"
          },
          "link": null
        },
        {
          "name": "divisible_by",
          "type": "INT",
          "widget": {
            "name": "divisible_by"
          },
          "link": null
        },
        {
          "name": "device",
          "shape": 7,
          "type": "COMBO",
          "widget": {
            "name": "device"
          },
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            10
          ]
        },
        {
          "name": "width",
          "type": "INT",
          "links": []
        },
        {
          "name": "height",
          "type": "INT",
          "links": []
        },
        {
          "name": "mask",
          "type": "MASK",
          "links": null
        }
      ],
      "title": "Resize Avatar (480x832)",
      "properties": {
        "cnr_id": "comfyui-kjnodes",
        "Node name for S&R": "ImageResizeKJv2",
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        512,
        512,
        "lanczos",
        "pad",
        "0, 0, 0",
        "top",
        16,
        "cpu"
      ],
      "color": "#2a363b",
      "bgcolor": "#3f5159"
    },
    {
      "id": 21,
      "type": "ImageResizeKJv2",
      "pos": [
        -1300,
        200
      ],
      "size": [
        270,
        336
      ],
      "flags": {},
      "order": 15,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 2
        },
        {
          "name": "mask",
          "shape": 7,
          "type": "MASK",
          "link": null
        },
        {
          "name": "width",
          "type": "INT",
          "widget": {
            "name": "width"
          },
          "link": 4
        },
        {
          "name": "height",
          "type": "INT",
          "widget": {
            "name": "height"
          },
          "link": 6
        },
        {
          "name": "upscale_method",
          "type": "COMBO",
          "widget": {
            "name": "upscale_method"
          },
          "link": null
        },
        {
          "name": "keep_proportion",
          "type": "COMBO",
          "widget": {
            "name": "keep_proportion"
          },
          "link": null
        },
        {
          "name": "pad_color",
          "type": "STRING",
          "widget": {
            "name": "pad_color"
          },
          "link": null
        },
        {
          "name": "crop_position",
          "type": "COMBO",
          "widget": {
            "name": "crop_position"
          },
          "link": null
        },
        {
          "name": "divisible_by",
          "type": "INT",
          "widget": {
            "name": "divisible_by"
          },
          "link": null
        },
        {
          "name": "device",
          "shape": 7,
          "type": "COMBO",
          "widget": {
            "name": "device"
          },
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            11
          ]
        },
        {
          "name": "width",
          "type": "INT",
          "links": []
        },
        {
          "name": "height",
          "type": "INT",
          "links": []
        },
        {
          "name": "mask",
          "type": "MASK",
          "links": null
        }
      ],
      "title": "Resize Produit (480x832)",
      "properties": {
        "cnr_id": "comfyui-kjnodes",
        "Node name for S&R": "ImageResizeKJv2",
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        512,
        512,
        "lanczos",
        "pad",
        "0, 0, 0",
        "center",
        16,
        "cpu"
      ],
      "color": "#2a363b",
      "bgcolor": "#3f5159"
    },
    {
      "id": 30,
      "type": "WanVideoVAELoader",
      "pos": [
        -800,
        550
      ],
      "size": [
        315,
        106
      ],
      "flags": {},
      "order": 6,
      "mode": 0,
      "inputs": [
        {
          "name": "compile_args",
          "shape": 7,
          "type": "WANCOMPILEARGS",
          "link": null
        },
        {
          "name": "model_name",
          "type": "COMBO",
          "widget": {
            "name": "model_name"
          },
          "link": null
        },
        {
          "name": "precision",
          "shape": 7,
          "type": "COMBO",
          "widget": {
            "name": "precision"
          },
          "link": null
        },
        {
          "name": "use_cpu_cache",
          "shape": 7,
          "type": "BOOLEAN",
          "widget": {
            "name": "use_cpu_cache"
          },
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "vae",
          "type": "WANVAE",
          "slot_index": 0,
          "links": [
            7,
            8,
            9
          ]
        }
      ],
      "title": "WAN VAE",
      "properties": {
        "cnr_id": "ComfyUI-WanVideoWrapper",
        "Node name for S&R": "WanVideoVAELoader",
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        "Wan2_1_VAE_bf16.safetensors",
        "bf16",
        false
      ],
      "color": "#2a363b",
      "bgcolor": "#3f5159"
    },
    {
      "id": 40,
      "type": "WanVideoEncode",
      "pos": [
        -800,
        -200
      ],
      "size": [
        330,
        242
      ],
      "flags": {},
      "order": 18,
      "mode": 0,
      "inputs": [
        {
          "name": "vae",
          "type": "WANVAE",
          "link": 7
        },
        {
          "name": "image",
          "type": "IMAGE",
          "link": 10
        },
        {
          "name": "mask",
          "shape": 7,
          "type": "MASK",
          "link": null
        },
        {
          "name": "enable_vae_tiling",
          "type": "BOOLEAN",
          "widget": {
            "name": "enable_vae_tiling"
          },
          "link": null
        },
        {
          "name": "tile_x",
          "type": "INT",
          "widget": {
            "name": "tile_x"
          },
          "link": null
        },
        {
          "name": "tile_y",
          "type": "INT",
          "widget": {
            "name": "tile_y"
          },
          "link": null
        },
        {
          "name": "tile_stride_x",
          "type": "INT",
          "widget": {
            "name": "tile_stride_x"
          },
          "link": null
        },
        {
          "name": "tile_stride_y",
          "type": "INT",
          "widget": {
            "name": "tile_stride_y"
          },
          "link": null
        },
        {
          "name": "noise_aug_strength",
          "shape": 7,
          "type": "FLOAT",
          "widget": {
            "name": "noise_aug_strength"
          },
          "link": null
        },
        {
          "name": "latent_strength",
          "shape": 7,
          "type": "FLOAT",
          "widget": {
            "name": "latent_strength"
          },
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "samples",
          "type": "LATENT",
          "slot_index": 0,
          "links": [
            12
          ]
        }
      ],
      "title": "VAE Encode Avatar",
      "properties": {
        "cnr_id": "ComfyUI-WanVideoWrapper",
        "Node name for S&R": "WanVideoEncode",
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        true,
        272,
        272,
        144,
        128,
        0,
        1
      ],
      "color": "#2a363b",
      "bgcolor": "#3f5159"
    },
    {
      "id": 41,
      "type": "WanVideoEncode",
      "pos": [
        -800,
        200
      ],
      "size": [
        330,
        242
      ],
      "flags": {},
      "order": 19,
      "mode": 0,
      "inputs": [
        {
          "name": "vae",
          "type": "WANVAE",
          "link": 8
        },
        {
          "name": "image",
          "type": "IMAGE",
          "link": 11
        },
        {
          "name": "mask",
          "shape": 7,
          "type": "MASK",
          "link": null
        },
        {
          "name": "enable_vae_tiling",
          "type": "BOOLEAN",
          "widget": {
            "name": "enable_vae_tiling"
          },
          "link": null
        },
        {
          "name": "tile_x",
          "type": "INT",
          "widget": {
            "name": "tile_x"
          },
          "link": null
        },
        {
          "name": "tile_y",
          "type": "INT",
          "widget": {
            "name": "tile_y"
          },
          "link": null
        },
        {
          "name": "tile_stride_x",
          "type": "INT",
          "widget": {
            "name": "tile_stride_x"
          },
          "link": null
        },
        {
          "name": "tile_stride_y",
          "type": "INT",
          "widget": {
            "name": "tile_stride_y"
          },
          "link": null
        },
        {
          "name": "noise_aug_strength",
          "shape": 7,
          "type": "FLOAT",
          "widget": {
            "name": "noise_aug_strength"
          },
          "link": null
        },
        {
          "name": "latent_strength",
          "shape": 7,
          "type": "FLOAT",
          "widget": {
            "name": "latent_strength"
          },
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "samples",
          "type": "LATENT",
          "slot_index": 0,
          "links": [
            13
          ]
        }
      ],
      "title": "VAE Encode Produit",
      "properties": {
        "cnr_id": "ComfyUI-WanVideoWrapper",
        "Node name for S&R": "WanVideoEncode",
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        true,
        272,
        272,
        144,
        128,
        0,
        1
      ],
      "color": "#2a363b",
      "bgcolor": "#3f5159"
    },
    {
      "id": 50,
      "type": "WanVideoPhantomEmbeds",
      "pos": [
        -300,
        -50
      ],
      "size": [
        380,
        210
      ],
      "flags": {},
      "order": 22,
      "mode": 0,
      "inputs": [
        {
          "name": "phantom_latent_1",
          "type": "LATENT",
          "link": 12
        },
        {
          "name": "phantom_latent_2",
          "shape": 7,
          "type": "LATENT",
          "link": 13
        },
        {
          "name": "phantom_latent_3",
          "shape": 7,
          "type": "LATENT",
          "link": null
        },
        {
          "name": "phantom_latent_4",
          "shape": 7,
          "type": "LATENT",
          "link": null
        },
        {
          "name": "vace_embeds",
          "shape": 7,
          "type": "WANVIDIMAGE_EMBEDS",
          "link": null
        },
        {
          "name": "num_frames",
          "type": "INT",
          "widget": {
            "name": "num_frames"
          },
          "link": null
        },
        {
          "name": "phantom_cfg_scale",
          "type": "FLOAT",
          "widget": {
            "name": "phantom_cfg_scale"
          },
          "link": null
        },
        {
          "name": "phantom_start_percent",
          "type": "FLOAT",
          "widget": {
            "name": "phantom_start_percent"
          },
          "link": null
        },
        {
          "name": "phantom_end_percent",
          "type": "FLOAT",
          "widget": {
            "name": "phantom_end_percent"
          },
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "image_embeds",
          "type": "WANVIDIMAGE_EMBEDS",
          "slot_index": 0,
          "links": [
            17
          ]
        }
      ],
      "title": "Phantom Embeds (Avatar + Produit)",
      "properties": {
        "cnr_id": "ComfyUI-WanVideoWrapper",
        "Node name for S&R": "WanVideoPhantomEmbeds",
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        121,
        6.0,
        0,
        1
      ],
      "color": "#322",
      "bgcolor": "#533"
    },
    {
      "id": 31,
      "type": "LoadWanVideoT5TextEncoder",
      "pos": [
        -800,
        900
      ],
      "size": [
        329,
        130
      ],
      "flags": {},
      "order": 7,
      "mode": 0,
      "inputs": [
        {
          "name": "model_name",
          "type": "COMBO",
          "widget": {
            "name": "model_name"
          },
          "link": null
        },
        {
          "name": "precision",
          "type": "COMBO",
          "widget": {
            "name": "precision"
          },
          "link": null
        },
        {
          "name": "load_device",
          "shape": 7,
          "type": "COMBO",
          "widget": {
            "name": "load_device"
          },
          "link": null
        },
        {
          "name": "quantization",
          "shape": 7,
          "type": "COMBO",
          "widget": {
            "name": "quantization"
          },
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "wan_t5_model",
          "type": "WANTEXTENCODER",
          "slot_index": 0,
          "links": [
            14
          ]
        }
      ],
      "title": "T5 Text Encoder",
      "properties": {
        "cnr_id": "ComfyUI-WanVideoWrapper",
        "Node name for S&R": "LoadWanVideoT5TextEncoder",
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        "umt5-xxl-enc-bf16.safetensors",
        "bf16",
        "offload_device",
        "disabled"
      ],
      "color": "#2a363b",
      "bgcolor": "#3f5159"
    },
    {
      "id": 32,
      "type": "WanVideoTextEncode",
      "pos": [
        -400,
        900
      ],
      "size": [
        425,
        324
      ],
      "flags": {},
      "order": 16,
      "mode": 0,
      "inputs": [
        {
          "name": "t5",
          "shape": 7,
          "type": "WANTEXTENCODER",
          "link": 14
        },
        {
          "name": "model_to_offload",
          "shape": 7,
          "type": "WANVIDEOMODEL",
          "link": null
        },
        {
          "name": "positive_prompt",
          "type": "STRING",
          "widget": {
            "name": "positive_prompt"
          },
          "link": null
        },
        {
          "name": "negative_prompt",
          "type": "STRING",
          "widget": {
            "name": "negative_prompt"
          },
          "link": null
        },
        {
          "name": "force_offload",
          "shape": 7,
          "type": "BOOLEAN",
          "widget": {
            "name": "force_offload"
          },
          "link": null
        },
        {
          "name": "use_disk_cache",
          "shape": 7,
          "type": "BOOLEAN",
          "widget": {
            "name": "use_disk_cache"
          },
          "link": null
        },
        {
          "name": "device",
          "shape": 7,
          "type": "COMBO",
          "widget": {
            "name": "device"
          },
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "text_embeds",
          "type": "WANVIDEOTEXTEMBEDS",
          "slot_index": 0,
          "links": [
            18
          ]
        }
      ],
      "title": "UGC Product Prompt",
      "properties": {
        "cnr_id": "ComfyUI-WanVideoWrapper",
        "Node name for S&R": "WanVideoTextEncode",
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        "A young woman holding a product bottle in her hand, presenting it to the camera with a natural genuine smile, showing the product details, slight head movements, clean modern background softly blurred, soft natural lighting, professional quality, smooth motion, engaging and relatable, high quality",
        "bright tones, overexposed, static, blurred details, subtitles, style, works, paintings, images, static, overall gray, worst quality, low quality, JPEG compression residue, ugly, incomplete, extra fingers, poorly drawn hands, poorly drawn faces, deformed, disfigured, misshapen limbs, fused fingers, still picture, messy background, three legs, many people in the background, walking backwards",
        true,
        false,
        "gpu"
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 33,
      "type": "WanVideoBlockSwap",
      "pos": [
        -300,
        700
      ],
      "size": [
        315,
        202
      ],
      "flags": {},
      "order": 8,
      "mode": 0,
      "inputs": [
        {
          "name": "blocks_to_swap",
          "type": "INT",
          "widget": {
            "name": "blocks_to_swap"
          },
          "link": null
        },
        {
          "name": "offload_img_emb",
          "type": "BOOLEAN",
          "widget": {
            "name": "offload_img_emb"
          },
          "link": null
        },
        {
          "name": "offload_txt_emb",
          "type": "BOOLEAN",
          "widget": {
            "name": "offload_txt_emb"
          },
          "link": null
        },
        {
          "name": "use_non_blocking",
          "shape": 7,
          "type": "BOOLEAN",
          "widget": {
            "name": "use_non_blocking"
          },
          "link": null
        },
        {
          "name": "vace_blocks_to_swap",
          "shape": 7,
          "type": "INT",
          "widget": {
            "name": "vace_blocks_to_swap"
          },
          "link": null
        },
        {
          "name": "prefetch_blocks",
          "shape": 7,
          "type": "INT",
          "widget": {
            "name": "prefetch_blocks"
          },
          "link": null
        },
        {
          "name": "block_swap_debug",
          "shape": 7,
          "type": "BOOLEAN",
          "widget": {
            "name": "block_swap_debug"
          },
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "block_swap_args",
          "type": "BLOCKSWAPARGS",
          "slot_index": 0,
          "links": [
            15
          ]
        }
      ],
      "title": "VRAM Management (Block Swap 30)",
      "properties": {
        "cnr_id": "ComfyUI-WanVideoWrapper",
        "Node name for S&R": "WanVideoBlockSwap",
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        30,
        false,
        false,
        true,
        0,
        0,
        false
      ],
      "color": "#2a363b",
      "bgcolor": "#3f5159"
    },
    {
      "id": 34,
      "type": "WanVideoModelLoader",
      "pos": [
        100,
        700
      ],
      "size": [
        429,
        338
      ],
      "flags": {},
      "order": 13,
      "mode": 0,
      "inputs": [
        {
          "name": "compile_args",
          "shape": 7,
          "type": "WANCOMPILEARGS",
          "link": null
        },
        {
          "name": "block_swap_args",
          "shape": 7,
          "type": "BLOCKSWAPARGS",
          "link": 15
        },
        {
          "name": "lora",
          "shape": 7,
          "type": "WANVIDLORA",
          "link": null
        },
        {
          "name": "vram_management_args",
          "shape": 7,
          "type": "VRAM_MANAGEMENTARGS",
          "link": null
        },
        {
          "name": "extra_model",
          "shape": 7,
          "type": "VACEPATH",
          "link": null
        },
        {
          "name": "fantasytalking_model",
          "shape": 7,
          "type": "FANTASYTALKINGMODEL",
          "link": null
        },
        {
          "name": "multitalk_model",
          "shape": 7,
          "type": "MULTITALKMODEL",
          "link": null
        },
        {
          "name": "fantasyportrait_model",
          "shape": 7,
          "type": "FANTASYPORTRAITMODEL",
          "link": null
        },
        {
          "name": "model",
          "type": "COMBO",
          "widget": {
            "name": "model"
          },
          "link": null
        },
        {
          "name": "base_precision",
          "type": "COMBO",
          "widget": {
            "name": "base_precision"
          },
          "link": null
        },
        {
          "name": "quantization",
          "type": "COMBO",
          "widget": {
            "name": "quantization"
          },
          "link": null
        },
        {
          "name": "load_device",
          "type": "COMBO",
          "widget": {
            "name": "load_device"
          },
          "link": null
        },
        {
          "name": "attention_mode",
          "shape": 7,
          "type": "COMBO",
          "widget": {
            "name": "attention_mode"
          },
          "link": null
        },
        {
          "name": "rms_norm_function",
          "shape": 7,
          "type": "COMBO",
          "widget": {
            "name": "rms_norm_function"
          },
          "link": null
        },
        {
          "name": "vace_model",
          "shape": 7,
          "type": "VACEPATH",
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "model",
          "type": "WANVIDEOMODEL",
          "slot_index": 0,
          "links": [
            16
          ]
        }
      ],
      "title": "SkyReels-V3-R2V (Reference to Video)",
      "properties": {
        "cnr_id": "ComfyUI-WanVideoWrapper",
        "Node name for S&R": "WanVideoModelLoader",
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        "SkyReels-V3-R2V_fp8_scaled_mixed.safetensors",
        "fp16",
        "fp8_e4m3fn",
        "offload_device",
        "sageattn",
        "default"
      ],
      "color": "#2a363b",
      "bgcolor": "#3f5159"
    },
    {
      "id": 35,
      "type": "WanVideoMagCache",
      "pos": [
        100,
        1100
      ],
      "size": [
        315,
        154
      ],
      "flags": {},
      "order": 9,
      "mode": 0,
      "inputs": [
        {
          "name": "magcache_thresh",
          "type": "FLOAT",
          "widget": {
            "name": "magcache_thresh"
          },
          "link": null
        },
        {
          "name": "magcache_K",
          "type": "INT",
          "widget": {
            "name": "magcache_K"
          },
          "link": null
        },
        {
          "name": "start_step",
          "type": "INT",
          "widget": {
            "name": "start_step"
          },
          "link": null
        },
        {
          "name": "end_step",
          "type": "INT",
          "widget": {
            "name": "end_step"
          },
          "link": null
        },
        {
          "name": "cache_device",
          "type": "COMBO",
          "widget": {
            "name": "cache_device"
          },
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "cache_args",
          "type": "CACHEARGS",
          "slot_index": 0,
          "links": [
            19
          ]
        }
      ],
      "title": "MagCache (Speed Optimization)",
      "properties": {
        "cnr_id": "ComfyUI-WanVideoWrapper",
        "Node name for S&R": "WanVideoMagCache",
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        0.009,
        2,
        1,
        5,
        "offload_device"
      ],
      "color": "#2a363b",
      "bgcolor": "#3f5159"
    },
    {
      "id": 36,
      "type": "WanVideoSLG",
      "pos": [
        100,
        1320
      ],
      "size": [
        315,
        106
      ],
      "flags": {},
      "order": 10,
      "mode": 0,
      "inputs": [
        {
          "name": "blocks",
          "type": "STRING",
          "widget": {
            "name": "blocks"
          },
          "link": null
        },
        {
          "name": "start_percent",
          "type": "FLOAT",
          "widget": {
            "name": "start_percent"
          },
          "link": null
        },
        {
          "name": "end_percent",
          "type": "FLOAT",
          "widget": {
            "name": "end_percent"
          },
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "slg_args",
          "type": "SLGARGS",
          "slot_index": 0,
          "links": [
            20
          ]
        }
      ],
      "title": "SLG (Skip Layer Guidance)",
      "properties": {
        "cnr_id": "ComfyUI-WanVideoWrapper",
        "Node name for S&R": "WanVideoSLG",
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        "9",
        0.2,
        0.8
      ],
      "color": "#2a363b",
      "bgcolor": "#3f5159"
    },
    {
      "id": 60,
      "type": "WanVideoSampler",
      "pos": [
        600,
        200
      ],
      "size": [
        308,
        690
      ],
      "flags": {},
      "order": 23,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "WANVIDEOMODEL",
          "link": 16
        },
        {
          "name": "image_embeds",
          "type": "WANVIDIMAGE_EMBEDS",
          "link": 17
        },
        {
          "name": "text_embeds",
          "shape": 7,
          "type": "WANVIDEOTEXTEMBEDS",
          "link": 18
        },
        {
          "name": "samples",
          "shape": 7,
          "type": "LATENT",
          "link": null
        },
        {
          "name": "feta_args",
          "shape": 7,
          "type": "FETAARGS",
          "link": null
        },
        {
          "name": "context_options",
          "shape": 7,
          "type": "WANVIDCONTEXT",
          "link": null
        },
        {
          "name": "cache_args",
          "shape": 7,
          "type": "CACHEARGS",
          "link": 19
        },
        {
          "name": "flowedit_args",
          "shape": 7,
          "type": "FLOWEDITARGS",
          "link": null
        },
        {
          "name": "slg_args",
          "shape": 7,
          "type": "SLGARGS",
          "link": 20
        },
        {
          "name": "loop_args",
          "shape": 7,
          "type": "LOOPARGS",
          "link": null
        },
        {
          "name": "experimental_args",
          "shape": 7,
          "type": "EXPERIMENTALARGS",
          "link": null
        },
        {
          "name": "sigmas",
          "shape": 7,
          "type": "SIGMAS",
          "link": null
        },
        {
          "name": "unianimate_poses",
          "shape": 7,
          "type": "UNIANIMATE_POSE",
          "link": null
        },
        {
          "name": "fantasytalking_embeds",
          "shape": 7,
          "type": "FANTASYTALKING_EMBEDS",
          "link": null
        },
        {
          "name": "uni3c_embeds",
          "shape": 7,
          "type": "UNI3C_EMBEDS",
          "link": null
        },
        {
          "name": "multitalk_embeds",
          "shape": 7,
          "type": "MULTITALK_EMBEDS",
          "link": null
        },
        {
          "name": "freeinit_args",
          "shape": 7,
          "type": "FREEINITARGS",
          "link": null
        },
        {
          "name": "steps",
          "type": "INT",
          "widget": {
            "name": "steps"
          },
          "link": null
        },
        {
          "name": "cfg",
          "type": "FLOAT",
          "widget": {
            "name": "cfg"
          },
          "link": null
        },
        {
          "name": "shift",
          "type": "FLOAT",
          "widget": {
            "name": "shift"
          },
          "link": null
        },
        {
          "name": "seed",
          "type": "INT",
          "widget": {
            "name": "seed"
          },
          "link": null
        },
        {
          "name": "force_offload",
          "type": "BOOLEAN",
          "widget": {
            "name": "force_offload"
          },
          "link": null
        },
        {
          "name": "scheduler",
          "type": "COMBO",
          "widget": {
            "name": "scheduler"
          },
          "link": null
        },
        {
          "name": "riflex_freq_index",
          "type": "INT",
          "widget": {
            "name": "riflex_freq_index"
          },
          "link": null
        },
        {
          "name": "denoise_strength",
          "shape": 7,
          "type": "FLOAT",
          "widget": {
            "name": "denoise_strength"
          },
          "link": null
        },
        {
          "name": "batched_cfg",
          "shape": 7,
          "type": "BOOLEAN",
          "widget": {
            "name": "batched_cfg"
          },
          "link": null
        },
        {
          "name": "rope_function",
          "shape": 7,
          "type": "COMBO",
          "widget": {
            "name": "rope_function"
          },
          "link": null
        },
        {
          "name": "start_step",
          "shape": 7,
          "type": "INT",
          "widget": {
            "name": "start_step"
          },
          "link": null
        },
        {
          "name": "end_step",
          "shape": 7,
          "type": "INT",
          "widget": {
            "name": "end_step"
          },
          "link": null
        },
        {
          "name": "add_noise_to_samples",
          "shape": 7,
          "type": "BOOLEAN",
          "widget": {
            "name": "add_noise_to_samples"
          },
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "samples",
          "type": "LATENT",
          "slot_index": 0,
          "links": [
            21
          ]
        },
        {
          "name": "denoised_samples",
          "type": "LATENT",
          "links": null
        }
      ],
      "title": "Video Sampler",
      "properties": {
        "cnr_id": "ComfyUI-WanVideoWrapper",
        "Node name for S&R": "WanVideoSampler",
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        10,
        1.0,
        4.0,
        678983072955616,
        "randomize",
        false,
        "unipc",
        0,
        1,
        false,
        "comfy",
        0,
        -1,
        false
      ],
      "color": "#322",
      "bgcolor": "#533"
    },
    {
      "id": 70,
      "type": "WanVideoDecode",
      "pos": [
        1000,
        200
      ],
      "size": [
        315,
        198
      ],
      "flags": {},
      "order": 24,
      "mode": 0,
      "inputs": [
        {
          "name": "vae",
          "type": "WANVAE",
          "link": 9
        },
        {
          "name": "samples",
          "type": "LATENT",
          "link": 21
        },
        {
          "name": "enable_vae_tiling",
          "type": "BOOLEAN",
          "widget": {
            "name": "enable_vae_tiling"
          },
          "link": null
        },
        {
          "name": "tile_x",
          "type": "INT",
          "widget": {
            "name": "tile_x"
          },
          "link": null
        },
        {
          "name": "tile_y",
          "type": "INT",
          "widget": {
            "name": "tile_y"
          },
          "link": null
        },
        {
          "name": "tile_stride_x",
          "type": "INT",
          "widget": {
            "name": "tile_stride_x"
          },
          "link": null
        },
        {
          "name": "tile_stride_y",
          "type": "INT",
          "widget": {
            "name": "tile_stride_y"
          },
          "link": null
        },
        {
          "name": "normalization",
          "shape": 7,
          "type": "COMBO",
          "widget": {
            "name": "normalization"
          },
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "slot_index": 0,
          "links": [
            22
          ]
        }
      ],
      "title": "VAE Decode Video",
      "properties": {
        "cnr_id": "ComfyUI-WanVideoWrapper",
        "Node name for S&R": "WanVideoDecode",
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        false,
        272,
        272,
        144,
        128,
        "default"
      ],
      "color": "#2a363b",
      "bgcolor": "#3f5159"
    },
    {
      "id": 80,
      "type": "ImageResizeKJv2",
      "pos": [
        1400,
        200
      ],
      "size": [
        270,
        336
      ],
      "flags": {},
      "order": 25,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 22
        },
        {
          "name": "mask",
          "shape": 7,
          "type": "MASK",
          "link": null
        },
        {
          "name": "width",
          "type": "INT",
          "widget": {
            "name": "width"
          },
          "link": null
        },
        {
          "name": "height",
          "type": "INT",
          "widget": {
            "name": "height"
          },
          "link": null
        },
        {
          "name": "upscale_method",
          "type": "COMBO",
          "widget": {
            "name": "upscale_method"
          },
          "link": null
        },
        {
          "name": "keep_proportion",
          "type": "COMBO",
          "widget": {
            "name": "keep_proportion"
          },
          "link": null
        },
        {
          "name": "pad_color",
          "type": "STRING",
          "widget": {
            "name": "pad_color"
          },
          "link": null
        },
        {
          "name": "crop_position",
          "type": "COMBO",
          "widget": {
            "name": "crop_position"
          },
          "link": null
        },
        {
          "name": "divisible_by",
          "type": "INT",
          "widget": {
            "name": "divisible_by"
          },
          "link": null
        },
        {
          "name": "device",
          "shape": 7,
          "type": "COMBO",
          "widget": {
            "name": "device"
          },
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            23
          ]
        },
        {
          "name": "width",
          "type": "INT",
          "links": []
        },
        {
          "name": "height",
          "type": "INT",
          "links": []
        },
        {
          "name": "mask",
          "type": "MASK",
          "links": null
        }
      ],
      "title": "Upscale TikTok (1080x1920)",
      "properties": {
        "cnr_id": "comfyui-kjnodes",
        "Node name for S&R": "ImageResizeKJv2",
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        1080,
        1920,
        "lanczos",
        "disabled",
        "0, 0, 0",
        "center",
        2,
        "cpu"
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 90,
      "type": "VHS_VideoCombine",
      "pos": [
        1750,
        50
      ],
      "size": [
        500,
        500
      ],
      "flags": {},
      "order": 26,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 23
        },
        {
          "name": "audio",
          "shape": 7,
          "type": "AUDIO",
          "link": 33
        },
        {
          "name": "meta_batch",
          "shape": 7,
          "type": "VHS_BatchManager",
          "link": null
        },
        {
          "name": "vae",
          "shape": 7,
          "type": "VAE",
          "link": null
        },
        {
          "name": "frame_rate",
          "type": "FLOAT",
          "widget": {
            "name": "frame_rate"
          },
          "link": null
        },
        {
          "name": "loop_count",
          "type": "INT",
          "widget": {
            "name": "loop_count"
          },
          "link": null
        },
        {
          "name": "filename_prefix",
          "type": "STRING",
          "widget": {
            "name": "filename_prefix"
          },
          "link": null
        },
        {
          "name": "format",
          "type": "COMBO",
          "widget": {
            "name": "format"
          },
          "link": null
        },
        {
          "name": "pingpong",
          "type": "BOOLEAN",
          "widget": {
            "name": "pingpong"
          },
          "link": null
        },
        {
          "name": "save_output",
          "type": "BOOLEAN",
          "widget": {
            "name": "save_output"
          },
          "link": null
        },
        {
          "name": "pix_fmt",
          "type": [
            "yuv420p",
            "yuv420p10le"
          ],
          "widget": {
            "name": "pix_fmt"
          },
          "link": null
        },
        {
          "name": "crf",
          "type": "INT",
          "widget": {
            "name": "crf"
          },
          "link": null
        },
        {
          "name": "save_metadata",
          "type": "BOOLEAN",
          "widget": {
            "name": "save_metadata"
          },
          "link": null
        },
        {
          "name": "trim_to_audio",
          "type": "BOOLEAN",
          "widget": {
            "name": "trim_to_audio"
          },
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "Filenames",
          "type": "VHS_FILENAMES",
          "links": null
        }
      ],
      "title": "Export UGC Product Video (MP4)",
      "properties": {
        "cnr_id": "comfyui-videohelpersuite",
        "Node name for S&R": "VHS_VideoCombine",
        "widget_ue_connectable": {}
      },
      "widgets_values": {
        "frame_rate": 24,
        "loop_count": 0,
        "filename_prefix": "UGC_Product",
        "format": "video/h264-mp4",
        "pix_fmt": "yuv420p",
        "crf": 19,
        "save_metadata": true,
        "trim_to_audio": false,
        "pingpong": false,
        "save_output": true,
        "videopreview": {
          "hidden": false,
          "paused": false,
          "params": {}
        }
      },
      "color": "#232",
      "bgcolor": "#353"
    },
    {
      "id": 105,
      "type": "Note",
      "pos": [
        -400,
        1500
      ],
      "size": [
        450,
        400
      ],
      "flags": {},
      "order": 0,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "properties": {
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        "XTTS-v2 VOICE CLONING & TTS:\n━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━\n\nMODELE: Coqui XTTS-v2\nHuggingFace: https://huggingface.co/coqui/XTTS-v2\n\nFONCTIONS:\n- Voice cloning de qualité professionnelle\n- Support 17 langues (FR, EN, ES, DE, IT, etc.)\n- Génération vocale à partir de 6 secondes d'audio\n- Intégration audio dans la vidéo UGC finale\n\nINSTALLATION:\n1. ComfyUI Manager > Install Custom Nodes\n2. Chercher 'ComfyUI-XTTS' (by AIFSH)\n3. Installer et redémarrer ComfyUI\n\nUSAGE:\n1. VOICE REFERENCE: Audio WAV/MP3 de 6-30 secondes\n   - Voix claire, sans bruit de fond\n   - Une seule personne qui parle\n   - Placé dans: ComfyUI/input/\n\n2. TEXTE: Script du produit UGC\n   - Description naturelle et engageante\n   - Ton conversationnel authentique\n   - Max ~500 caractères par segment\n\n3. LANGUE: 'fr' pour français\n   - Autres: 'en', 'es', 'de', 'it', 'pt', etc.\n\n4. OUTPUT: Audio synchronisé avec vidéo\n   - Intégré automatiquement dans MP4 final\n   - Qualité 24kHz, mono\n\nNOTE IMPORTANTE:\n- L'audio XTTS sera automatiquement combiné avec\n  la vidéo UGC générée par SkyReels\n- Durée audio doit correspondre à num_frames\n  (ex: 5s video = ~5s audio recommandé)"
      ],
      "color": "#224",
      "bgcolor": "#446"
    },
    {
      "id": 100,
      "type": "PrimitiveNode",
      "pos": [
        100,
        1500
      ],
      "size": [
        400,
        200
      ],
      "flags": {},
      "order": 11,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "STRING",
          "type": "STRING",
          "links": [
            30
          ],
          "slot_index": 0
        }
      ],
      "title": "XTTS Script Texte",
      "properties": {
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        "Découvrez ce produit incroyable ! Je l'utilise depuis quelques semaines et les résultats sont vraiment impressionnants. La qualité est exceptionnelle et je le recommande vivement !"
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 101,
      "type": "LoadAudio",
      "pos": [
        100,
        1750
      ],
      "size": [
        300,
        100
      ],
      "flags": {},
      "order": 12,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "AUDIO",
          "type": "AUDIO",
          "links": [
            31
          ],
          "slot_index": 0
        }
      ],
      "title": "XTTS Voice Reference",
      "properties": {
        "Node name for S&R": "LoadAudio"
      },
      "widgets_values": [
        "voice_reference.wav"
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 102,
      "type": "XTTS_TTS",
      "pos": [
        550,
        1500
      ],
      "size": [
        350,
        250
      ],
      "flags": {},
      "order": 27,
      "mode": 0,
      "inputs": [
        {
          "name": "text",
          "type": "STRING",
          "link": 30
        },
        {
          "name": "speaker_audio",
          "type": "AUDIO",
          "link": 31
        },
        {
          "name": "language",
          "type": "COMBO",
          "widget": {
            "name": "language"
          },
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "AUDIO",
          "type": "AUDIO",
          "links": [
            32
          ],
          "slot_index": 0
        }
      ],
      "title": "XTTS-v2 Voice Generator",
      "properties": {
        "Node name for S&R": "XTTS_TTS"
      },
      "widgets_values": [
        "fr"
      ],
      "color": "#322",
      "bgcolor": "#533"
    },
    {
      "id": 103,
      "type": "PreviewAudio",
      "pos": [
        1000,
        1500
      ],
      "size": [
        300,
        100
      ],
      "flags": {},
      "order": 28,
      "mode": 0,
      "inputs": [
        {
          "name": "audio",
          "type": "AUDIO",
          "link": 32
        }
      ],
      "outputs": [],
      "title": "Preview Audio XTTS",
      "properties": {
        "Node name for S&R": "PreviewAudio"
      },
      "widgets_values": [],
      "color": "#2a363b",
      "bgcolor": "#3f5159"
    },
    {
      "id": 104,
      "type": "AudioCombine",
      "pos": [
        1000,
        1650
      ],
      "size": [
        300,
        80
      ],
      "flags": {},
      "order": 29,
      "mode": 0,
      "inputs": [
        {
          "name": "audio",
          "type": "AUDIO",
          "link": 32
        }
      ],
      "outputs": [
        {
          "name": "AUDIO",
          "type": "AUDIO",
          "links": [
            33
          ],
          "slot_index": 0
        }
      ],
      "title": "Audio to Video Combiner",
      "properties": {
        "Node name for S&R": "AudioCombine"
      },
      "widgets_values": [],
      "color": "#2a363b",
      "bgcolor": "#3f5159"
    }
  ],
  "links": [
    [
      1,
      10,
      0,
      20,
      0,
      "IMAGE"
    ],
    [
      2,
      11,
      0,
      21,
      0,
      "IMAGE"
    ],
    [
      3,
      12,
      0,
      20,
      2,
      "INT"
    ],
    [
      4,
      12,
      0,
      21,
      2,
      "INT"
    ],
    [
      5,
      13,
      0,
      20,
      3,
      "INT"
    ],
    [
      6,
      13,
      0,
      21,
      3,
      "INT"
    ],
    [
      7,
      30,
      0,
      40,
      0,
      "WANVAE"
    ],
    [
      8,
      30,
      0,
      41,
      0,
      "WANVAE"
    ],
    [
      9,
      30,
      0,
      70,
      0,
      "WANVAE"
    ],
    [
      10,
      20,
      0,
      40,
      1,
      "IMAGE"
    ],
    [
      11,
      21,
      0,
      41,
      1,
      "IMAGE"
    ],
    [
      12,
      40,
      0,
      50,
      0,
      "LATENT"
    ],
    [
      13,
      41,
      0,
      50,
      1,
      "LATENT"
    ],
    [
      14,
      31,
      0,
      32,
      0,
      "WANTEXTENCODER"
    ],
    [
      15,
      33,
      0,
      34,
      1,
      "BLOCKSWAPARGS"
    ],
    [
      16,
      34,
      0,
      60,
      0,
      "WANVIDEOMODEL"
    ],
    [
      17,
      50,
      0,
      60,
      1,
      "WANVIDIMAGE_EMBEDS"
    ],
    [
      18,
      32,
      0,
      60,
      2,
      "WANVIDEOTEXTEMBEDS"
    ],
    [
      19,
      35,
      0,
      60,
      6,
      "CACHEARGS"
    ],
    [
      20,
      36,
      0,
      60,
      8,
      "SLGARGS"
    ],
    [
      21,
      60,
      0,
      70,
      1,
      "LATENT"
    ],
    [
      22,
      70,
      0,
      80,
      0,
      "IMAGE"
    ],
    [
      23,
      80,
      0,
      90,
      0,
      "IMAGE"
    ],
    [
      30,
      100,
      0,
      102,
      0,
      "STRING"
    ],
    [
      31,
      101,
      0,
      102,
      1,
      "AUDIO"
    ],
    [
      32,
      102,
      0,
      103,
      0,
      "AUDIO"
    ],
    [
      32,
      102,
      0,
      104,
      0,
      "AUDIO"
    ],
    [
      33,
      104,
      0,
      90,
      1,
      "AUDIO"
    ]
  ],
  "groups": [
    {
      "id": 1,
      "title": "INSTRUCTIONS",
      "bounding": [
        -2250,
        -750,
        1750,
        450
      ],
      "color": "#3f789e",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 2,
      "title": "INPUTS: Avatar + Produit + Resolution",
      "bounding": [
        -1850,
        -280,
        500,
        1120
      ],
      "color": "#8A4040",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 3,
      "title": "RESIZE Images",
      "bounding": [
        -1350,
        -280,
        350,
        900
      ],
      "color": "#40708A",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 4,
      "title": "VAE ENCODE + PHANTOM EMBEDS",
      "bounding": [
        -850,
        -280,
        700,
        950
      ],
      "color": "#6A408A",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 5,
      "title": "MODELS + TEXT + OPTIMIZATIONS",
      "bounding": [
        -850,
        620,
        900,
        860
      ],
      "color": "#3f5e9e",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 6,
      "title": "SAMPLER + DECODE",
      "bounding": [
        550,
        120,
        850,
        850
      ],
      "color": "#8A4040",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 7,
      "title": "OUTPUT: Upscale + Export MP4",
      "bounding": [
        1350,
        -20,
        950,
        650
      ],
      "color": "#408A40",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 8,
      "title": "XTTS-v2 VOICE GENERATION",
      "bounding": [
        -450,
        1450,
        1850,
        500
      ],
      "color": "#8A408A",
      "font_size": 24,
      "flags": {}
    }
  ],
  "config": {},
  "extra": {
    "ds": {
      "scale": 0.55,
      "offset": [
        1500,
        800
      ]
    },
    "frontendVersion": "1.27.7",
    "node_versions": {
      "ComfyUI-WanVideoWrapper": "5a2383621a05825d0d0437781afcb8552d9590fd",
      "comfy-core": "0.3.29",
      "ComfyUI-KJNodes": "52c2e31a903fec2dd654fb614ea82ba2757d5028",
      "comfyui-videohelpersuite": "0a75c7958fe320efcb052f1d9f8451fd20c730a8"
    },
    "info": {
      "name": "UGC Product Video - SkyReels V3 PhantomEmbeds",
      "description": "Workflow pour generer des videos UGC avec image avatar + image produit via SkyReels-V3 Reference-to-Video et PhantomEmbeds",
      "version": "1.0",
      "pipeline": [
        "1. Load 2 images: avatar (personne) + produit",
        "2. Resize both to 480x832 (portrait 9:16)",
        "3. VAE encode both images to latent space",
        "4. PhantomEmbeds combines both references",
        "5. SkyReels-V3-R2V generates video from references + text prompt",
        "6. VAE decode latents to video frames",
        "7. Lanczos upscale 480x832 -> 1080x1920",
        "8. H.264 MP4 export at 24fps",
        "9. XTTS-v2 generates voice from text + reference audio",
        "10. Audio combined with video in final MP4 export"
      ],
      "models_required": [
        "SkyReels-V3-R2V_fp8_scaled_mixed.safetensors (diffusion_models/)",
        "Wan2_1_VAE_bf16.safetensors (vae/)",
        "umt5-xxl-enc-bf16.safetensors (text_encoders/)",
        "coqui/XTTS-v2 (via ComfyUI-XTTS custom node)"
      ],
      "custom_nodes_required": [
        "ComfyUI-WanVideoWrapper",
        "ComfyUI-KJNodes",
        "ComfyUI-VideoHelperSuite",
        "ComfyUI-XTTS (by AIFSH)"
      ],
      "vram_required": "12-16GB with block swap 30",
      "output_format": "1080x1920 9:16 (TikTok/Reels/Shorts)"
    },
    "VHS_latentpreview": false,
    "VHS_latentpreviewrate": 0,
    "VHS_MetadataImage": true,
    "VHS_KeepIntermediate": true,
    "ue_links": []
  },
  "version": 0.4
}