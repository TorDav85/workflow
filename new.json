{
  "id": "ugc-ai-content-creator-complete",
  "revision": 1,
  "last_node_id": 120,
  "last_link_id": 180,
  "nodes": [
    {
      "id": 1,
      "type": "Note",
      "pos": [-2200, -800],
      "size": [800, 400],
      "flags": {},
      "order": 0,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "title": "üìù UGC AI Content Creator - Local ComfyUI Workflow",
      "properties": {},
      "widgets_values": [
        "‚ö° Complete local workflow for UGC video creation on L40S GPU (48GB VRAM).\nNo APIs used - all open-source models.\n\nFeatures:\n- Multilanguage TTS with XTTS-v2 (French, English, etc.)\n- Avatar from image with InfiniteTalk lip-sync\n- Product image integration via masking\n- Video generation with Wan 2.1 I2V\n- Output: 1080x1920 MP4 with audio sync\n\nVRAM usage: ~24-32GB\nGeneration time: ~5-10 min for 10s video\n\nInputs:\n- Avatar image (portrait)\n- Product image (detoured)\n- Text script (multilang)\n- Optional: Voice reference audio for cloning"
      ],
      "color": "#324",
      "bgcolor": "#546"
    },
    {
      "id": 10,
      "type": "LoadImage",
      "pos": [-1800, -600],
      "size": [315, 314],
      "flags": {},
      "order": 1,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {"name": "IMAGE", "type": "IMAGE", "links": [10, 11, 12], "slot_index": 0},
        {"name": "MASK", "type": "MASK", "links": null}
      ],
      "title": "üßë Avatar Image",
      "properties": {"Node name for S&R": "LoadImage"},
      "widgets_values": ["avatar.png", "image"]
    },
    {
      "id": 11,
      "type": "LoadImage",
      "pos": [-1800, -200],
      "size": [315, 314],
      "flags": {},
      "order": 2,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {"name": "IMAGE", "type": "IMAGE", "links": [13, 14], "slot_index": 0},
        {"name": "MASK", "type": "MASK", "links": [15], "slot_index": 1}
      ],
      "title": "üì¶ Product Image (Detoured)",
      "properties": {"Node name for S&R": "LoadImage"},
      "widgets_values": ["product.png", "image"]
    },
    {
      "id": 12,
      "type": "PrimitiveString",
      "pos": [-1800, 200],
      "size": [315, 200],
      "flags": {},
      "order": 3,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {"name": "STRING", "type": "STRING", "links": [20], "slot_index": 0}
      ],
      "title": "‚úçÔ∏è Script Text (Multilang)",
      "properties": {"Node name for S&R": "PrimitiveString"},
      "widgets_values": ["Bonjour, d√©couvrez ce produit incroyable ! Il change ma routine quotidienne."]
    },
    {
      "id": 13,
      "type": "LoadAudio",
      "pos": [-1800, 500],
      "size": [315, 124],
      "flags": {},
      "order": 4,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {"name": "AUDIO", "type": "AUDIO", "links": [21], "slot_index": 0}
      ],
      "title": "üîä Optional Voice Reference (for Cloning)",
      "properties": {"Node name for S&R": "LoadAudio"},
      "widgets_values": ["voice_ref.wav"]
    },
    {
      "id": 20,
      "type": "XTTSv2",
      "pos": [-1400, 200],
      "size": [400, 300],
      "flags": {},
      "order": 5,
      "mode": 0,
      "inputs": [
        {"name": "text", "type": "STRING", "link": 20},
        {"name": "ref_audio", "type": "AUDIO", "link": 21},
        {"name": "language", "type": "COMBO", "widget": {"name": "language"}, "link": null}
      ],
      "outputs": [
        {"name": "AUDIO", "type": "AUDIO", "links": [30, 31], "slot_index": 0}
      ],
      "title": "üó£Ô∏è XTTS-v2 TTS (Multilang Clone)",
      "properties": {"Node name for S&R": "XTTSv2"},
      "widgets_values": ["fr", true, 1.0, "high"]
    },
    {
      "id": 30,
      "type": "ImageResize",
      "pos": [-1400, -600],
      "size": [300, 150],
      "flags": {},
      "order": 6,
      "mode": 0,
      "inputs": [
        {"name": "image", "type": "IMAGE", "link": 10}
      ],
      "outputs": [
        {"name": "IMAGE", "type": "IMAGE", "links": [40], "slot_index": 0}
      ],
      "title": "üìè Resize Avatar to 480x832",
      "properties": {"Node name for S&R": "ImageResize"},
      "widgets_values": [480, 832, "lanczos"]
    },
    {
      "id": 31,
      "type": "ImageResize",
      "pos": [-1400, -200],
      "size": [300, 150],
      "flags": {},
      "order": 7,
      "mode": 0,
      "inputs": [
        {"name": "image", "type": "IMAGE", "link": 13}
      ],
      "outputs": [
        {"name": "IMAGE", "type": "IMAGE", "links": [41], "slot_index": 0}
      ],
      "title": "üìè Resize Product (Scale to Fit)",
      "properties": {"Node name for S&R": "ImageResize"},
      "widgets_values": [200, 200, "lanczos"]
    },
    {
      "id": 32,
      "type": "ImageCompositeMasked",
      "pos": [-1000, -400],
      "size": [400, 200],
      "flags": {},
      "order": 8,
      "mode": 0,
      "inputs": [
        {"name": "destination", "type": "IMAGE", "link": 40},
        {"name": "source", "type": "IMAGE", "link": 41},
        {"name": "mask", "type": "MASK", "link": 15}
      ],
      "outputs": [
        {"name": "IMAGE", "type": "IMAGE", "links": [50, 51], "slot_index": 0}
      ],
      "title": "üñºÔ∏è Composite Product on Avatar",
      "properties": {"Node name for S&R": "ImageCompositeMasked"},
      "widgets_values": [140, 300, true]
    },
    {
      "id": 40,
      "type": "CLIPVisionLoader",
      "pos": [-1000, 600],
      "size": [315, 58],
      "flags": {},
      "order": 9,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {"name": "CLIP_VISION", "type": "CLIP_VISION", "links": [60], "slot_index": 0}
      ],
      "title": "üîç Load CLIP Vision",
      "properties": {"Node name for S&R": "CLIPVisionLoader"},
      "widgets_values": ["clip_vision_h.safetensors"]
    },
    {
      "id": 41,
      "type": "WanVideoClipVisionEncode",
      "pos": [-600, 600],
      "size": [400, 300],
      "flags": {},
      "order": 10,
      "mode": 0,
      "inputs": [
        {"name": "clip_vision", "type": "CLIP_VISION", "link": 60},
        {"name": "image_1", "type": "IMAGE", "link": 50}
      ],
      "outputs": [
        {"name": "WANVIDIMAGE_EMBEDS", "type": "WANVIDIMAGE_EMBEDS", "links": [70], "slot_index": 0}
      ],
      "title": "üìπ Encode Avatar+Product for InfiniteTalk",
      "properties": {"Node name for S&R": "WanVideoClipVisionEncode"},
      "widgets_values": [1.0, "center", "concat", false, 1]
    },
    {
      "id": 50,
      "type": "LoadWanVideoModel",
      "pos": [-1000, 1000],
      "size": [315, 82],
      "flags": {},
      "order": 11,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {"name": "WANVIDEOMODEL", "type": "WANVIDEOMODEL", "links": [80], "slot_index": 0}
      ],
      "title": "üß† Load InfiniteTalk Model",
      "properties": {"Node name for S&R": "LoadWanVideoModel"},
      "widgets_values": ["Wan2_1-InfiniteTalk-Single_fp8_e4m3fn_scaled_KJ.safetensors"]
    },
    {
      "id": 51,
      "type": "LoadWanVideoVAE",
      "pos": [-1000, 1150],
      "size": [315, 58],
      "flags": {},
      "order": 12,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {"name": "WANVAE", "type": "WANVAE", "links": [81, 82], "slot_index": 0}
      ],
      "title": "üß† Load Wan VAE",
      "properties": {"Node name for S&R": "LoadWanVideoVAE"},
      "widgets_values": ["Wan2_1_VAE_bf16.safetensors"]
    },
    {
      "id": 52,
      "type": "WanVideoTextEncode",
      "pos": [-1000, 1300],
      "size": [315, 150],
      "flags": {},
      "order": 13,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {"name": "WANTEXTENCODER", "type": "WANTEXTENCODER", "links": [83], "slot_index": 0}
      ],
      "title": "üìù Load UMT5 Text Encoder",
      "properties": {"Node name for S&R": "WanVideoTextEncode"},
      "widgets_values": ["umt5-xxl-enc-bf16.safetensors"]
    },
    {
      "id": 53,
      "type": "WanVideoTextEncode",
      "pos": [-600, 1300],
      "size": [400, 200],
      "flags": {},
      "order": 14,
      "mode": 0,
      "inputs": [
        {"name": "text_encoder", "type": "WANTEXTENCODER", "link": 83}
      ],
      "outputs": [
        {"name": "WANVIDEOTEXTEMBEDS", "type": "WANVIDEOTEXTEMBEDS", "links": [90], "slot_index": 0}
      ],
      "title": "‚úçÔ∏è Encode Prompt for UGC",
      "properties": {"Node name for S&R": "WanVideoTextEncode"},
      "widgets_values": ["a person talking and presenting a product, natural gestures, high quality, realistic"]
    },
    {
      "id": 60,
      "type": "LoadWanVideoModel",
      "pos": [-1000, 1600],
      "size": [315, 82],
      "flags": {},
      "order": 15,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {"name": "WANVIDEOMODEL", "type": "WANVIDEOMODEL", "links": [100], "slot_index": 0}
      ],
      "title": "üß† Load Wan 2.1 I2V Model",
      "properties": {"Node name for S&R": "LoadWanVideoModel"},
      "widgets_values": ["wan2.1_i2v_480p_14B_fp8_e4m3fn.safetensors"]
    },
    {
      "id": 61,
      "type": "WanVideoEmptyLatent",
      "pos": [-600, 1600],
      "size": [300, 150],
      "flags": {},
      "order": 16,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {"name": "LATENT", "type": "LATENT", "links": [101], "slot_index": 0}
      ],
      "title": "üÜï Empty Latent for Video",
      "properties": {"Node name for S&R": "WanVideoEmptyLatent"},
      "widgets_values": [480, 832, 1, 241]
    },
    {
      "id": 70,
      "type": "WanVideoSampler",
      "pos": [-200, 1000],
      "size": [500, 400],
      "flags": {},
      "order": 17,
      "mode": 0,
      "inputs": [
        {"name": "model", "type": "WANVIDEOMODEL", "link": 80},
        {"name": "text_embeds", "type": "WANVIDEOTEXTEMBEDS", "link": 90},
        {"name": "image_embeds", "type": "WANVIDIMAGE_EMBEDS", "link": 70},
        {"name": "audio", "type": "AUDIO", "link": 30},
        {"name": "latent", "type": "LATENT", "link": null}
      ],
      "outputs": [
        {"name": "LATENT", "type": "LATENT", "links": [110], "slot_index": 0}
      ],
      "title": "üé¨ InfiniteTalk Lip-Sync Sampler",
      "properties": {"Node name for S&R": "WanVideoSampler"},
      "widgets_values": [25, 6.0, 1.0, "euler", 20, 1234, false, 30]
    },
    {
      "id": 71,
      "type": "WanVideoDecode",
      "pos": [400, 1000],
      "size": [300, 150],
      "flags": {},
      "order": 18,
      "mode": 0,
      "inputs": [
        {"name": "latent", "type": "LATENT", "link": 110},
        {"name": "vae", "type": "WANVAE", "link": 81}
      ],
      "outputs": [
        {"name": "IMAGE", "type": "IMAGE", "links": [120], "slot_index": 0}
      ],
      "title": "üîÑ Decode Lip-Sync Frames",
      "properties": {"Node name for S&R": "WanVideoDecode"},
      "widgets_values": [true, 30]
    },
    {
      "id": 80,
      "type": "WanVideoSampler",
      "pos": [-200, 1600],
      "size": [500, 400],
      "flags": {},
      "order": 19,
      "mode": 0,
      "inputs": [
        {"name": "model", "type": "WANVIDEOMODEL", "link": 100},
        {"name": "text_embeds", "type": "WANVIDEOTEXTEMBEDS", "link": null},
        {"name": "image_embeds", "type": "WANVIDIMAGE_EMBEDS", "link": null},
        {"name": "audio", "type": "AUDIO", "link": null},
        {"name": "latent", "type": "LATENT", "link": 101}
      ],
      "outputs": [
        {"name": "LATENT", "type": "LATENT", "links": [130], "slot_index": 0}
      ],
      "title": "üé• Wan 2.1 Video Generation",
      "properties": {"Node name for S&R": "WanVideoSampler"},
      "widgets_values": [25, 7.5, 1.0, "euler", 50, 1234, false, 30]
    },
    {
      "id": 81,
      "type": "WanVideoDecode",
      "pos": [400, 1600],
      "size": [300, 150],
      "flags": {},
      "order": 20,
      "mode": 0,
      "inputs": [
        {"name": "latent", "type": "LATENT", "link": 130},
        {"name": "vae", "type": "WANVAE", "link": 82}
      ],
      "outputs": [
        {"name": "IMAGE", "type": "IMAGE", "links": [140], "slot_index": 0}
      ],
      "title": "üîÑ Decode Video Frames",
      "properties": {"Node name for S&R": "WanVideoDecode"},
      "widgets_values": [true, 30]
    },
    {
      "id": 90,
      "type": "VHS_VideoCombine",
      "pos": [800, 1200],
      "size": [400, 400],
      "flags": {},
      "order": 21,
      "mode": 0,
      "inputs": [
        {"name": "images", "type": "IMAGE", "link": 120},
        {"name": "audio", "type": "AUDIO", "link": 31},
        {"name": "frame_rate", "type": "INT", "widget": {"name": "frame_rate"}, "link": null}
      ],
      "outputs": [
        {"name": "Filenames", "type": "VHS_FILENAMES", "links": null}
      ],
      "title": "üéûÔ∏è Combine Lip-Sync Video + Audio",
      "properties": {"Node name for S&R": "VHS_VideoCombine"},
      "widgets_values": [25, 0, "UGC_LipSync", "video/h264-mp4", "yuv420p", 10, true, true, false, true]
    },
    {
      "id": 91,
      "type": "VHS_VideoCombine",
      "pos": [800, 1800],
      "size": [400, 400],
      "flags": {},
      "order": 22,
      "mode": 0,
      "inputs": [
        {"name": "images", "type": "IMAGE", "link": 140},
        {"name": "audio", "type": "AUDIO", "link": null},
        {"name": "frame_rate", "type": "INT", "widget": {"name": "frame_rate"}, "link": null}
      ],
      "outputs": [
        {"name": "Filenames", "type": "VHS_FILENAMES", "links": null}
      ],
      "title": "üéûÔ∏è Combine Full Video",
      "properties": {"Node name for S&R": "VHS_VideoCombine"},
      "widgets_values": [25, 0, "UGC_FullVideo", "video/h264-mp4", "yuv420p", 10, true, true, false, true]
    },
    {
      "id": 100,
      "type": "ImageUpscaleWithModel",
      "pos": [1300, 1200],
      "size": [300, 150],
      "flags": {},
      "order": 23,
      "mode": 0,
      "inputs": [
        {"name": "upscale_model", "type": "UPSCALE_MODEL", "link": null},
        {"name": "image", "type": "IMAGE", "link": null}
      ],
      "outputs": [
        {"name": "IMAGE", "type": "IMAGE", "links": null}
      ],
      "title": "‚¨ÜÔ∏è Upscale to 1080x1920",
      "properties": {"Node name for S&R": "ImageUpscaleWithModel"}
    }
  ],
  "links": [
    [10, 10, 0, 30, 0, "IMAGE"],
    [11, 10, 0, 32, 0, "IMAGE"],
    [12, 10, 0, 41, 1, "IMAGE"],
    [13, 11, 0, 31, 0, "IMAGE"],
    [14, 11, 0, 32, 1, "IMAGE"],
    [15, 11, 1, 32, 2, "MASK"],
    [20, 12, 0, 20, 0, "STRING"],
    [21, 13, 0, 20, 1, "AUDIO"],
    [30, 20, 0, 70, 3, "AUDIO"],
    [31, 20, 0, 90, 1, "AUDIO"],
    [40, 30, 0, 32, 0, "IMAGE"],
    [41, 31, 0, 32, 1, "IMAGE"],
    [50, 32, 0, 41, 1, "IMAGE"],
    [51, 32, 0, 50, 0, "IMAGE"],
    [60, 40, 0, 41, 0, "CLIP_VISION"],
    [70, 41, 0, 70, 2, "WANVIDIMAGE_EMBEDS"],
    [80, 50, 0, 70, 0, "WANVIDEOMODEL"],
    [81, 51, 0, 71, 1, "WANVAE"],
    [82, 51, 0, 81, 1, "WANVAE"],
    [83, 52, 0, 53, 0, "WANTEXTENCODER"],
    [90, 53, 0, 70, 1, "WANVIDEOTEXTEMBEDS"],
    [100, 60, 0, 80, 0, "WANVIDEOMODEL"],
    [101, 61, 0, 80, 4, "LATENT"],
    [110, 70, 0, 71, 0, "LATENT"],
    [120, 71, 0, 90, 0, "IMAGE"],
    [130, 80, 0, 81, 0, "LATENT"],
    [140, 81, 0, 91, 0, "IMAGE"]
  ],
  "groups": [
    {
      "title": "üì• Inputs",
      "bounding": [-1850, -650, 400, 1200],
      "color": "#3f789e",
      "font_size": 24
    },
    {
      "title": "üó£Ô∏è TTS Generation",
      "bounding": [-1450, 150, 500, 400],
      "color": "#8A4040"
    },
    {
      "title": "üñºÔ∏è Image Processing (Avatar + Product)",
      "bounding": [-1450, -650, 500, 500],
      "color": "#408A40"
    },
    {
      "title": "üìπ InfiniteTalk Lip-Sync",
      "bounding": [-1050, 550, 700, 800],
      "color": "#A88"
    },
    {
      "title": "üé• Wan 2.1 Video Animation",
      "bounding": [-1050, 1550, 700, 800],
      "color": "#8AA"
    },
    {
      "title": "üíæ Output Videos",
      "bounding": [750, 1150, 500, 800],
      "color": "#AA8"
    }
  ],
  "config": {},
  "extra": {
    "ds": {
      "scale": 0.6,
      "offset": [1200, 800]
    },
    "info": {
      "name": "UGC AI Content Creator - Local ComfyUI",
      "description": "Professional local workflow for UGC AI videos with avatar, product, multilang TTS, lip-sync via InfiniteTalk, and video animation on L40S GPU.",
      "version": "1.0",
      "models_required": [
        "XTTS-v2",
        "clip_vision_h.safetensors",
        "Wan2_1-InfiniteTalk-Single_fp8_e4m3fn_scaled_KJ.safetensors",
        "Wan2_1_VAE_bf16.safetensors",
        "umt5-xxl-enc-bf16.safetensors",
        "wan2.1_i2v_480p_14B_fp8_e4m3fn.safetensors"
      ],
      "custom_nodes": [
        "ComfyUI-XTTS",
        "ComfyUI-WanVideoWrapper",
        "ComfyUI-VideoHelperSuite"
      ],
      "vram": "24-32GB on L40S",
      "output": "1080x1920 MP4"
    },
    "VHS_latentpreview": false,
    "VHS_latentpreviewrate": 0,
    "VHS_MetadataImage": true,
    "VHS_KeepIntermediate": true
  },
  "version": 0.4
}